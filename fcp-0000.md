---
author: Allan Jude <allanjude@freebsd.org>,
    George V. Neville-Neil <gnn@neville-neil.com>,
    Benno Rice <benno@jeamland.net>
state: feedback
changed: 2017-06-09T16:20+0000
---

<!--
    This document is subject to the terms of BSD 2 Clause License.
    See LICENSE in this repository for more information.

    Copyright 2017 <gnn@neville-neil.com>
    Copyright 2017 <allanjude@freebsd.org>
    Copyright 2017 <benno@jeamland.net>
-->

# FCP 0: FreeBSD Community Proposal Process and Authoring Guide

Requests for Discussion are an idea originally promulgated by Joyent
based on the work with Requests for Comments, originating with the
IETF. The FreeBSD project has adopted a similar model of discussion and
collaboration to facilitate major changes to the code or community of the
project. Our model is based around documents we call FreeBSD Community
Proposals or FCPs.

Unlike RFCs from the IETF, our FCPs are maintained in
[Markdown](https://guides.github.com/features/mastering-markdown/#syntax)
format which provides more formal formatting structure and is also a format
that is broadly used in the open source community.

If you are unfamiliar with the IETF's Request for Comments (RFC) system please
read [RFC 3](https://tools.ietf.org/html/rfc3).

FCPs also use the IETF interpretations of the keywords "MUST", "MUST NOT",
"REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
and "OPTIONAL" as defined in [RFC 2119](https://tools.ietf.org/html/rfc2119).

The rest of this FCP documents when, why, and how to write an FCP.

## When should I write an FCP?

The purpose of the FCP process is to document the design decisions behind
proposed changes and to gather feedback from the many different types of users
that make up the FreeBSD Community, to better understand how each change will
impact those users.

An FCP MUST be written when:
* Any change lacks consensus or is contended.
* Creating, changing, or removing a feature that is likely to cause user
  confusion, i.e. a violation of the Principle of Least Astonishment or POLA.
* Breaking changes to the behaviour of existing commands or libraries.
* Substantive change to the behaviour or function of the ports or packaging
  system.
* Major changes to how people interact with the FreeBSD Community.
* A change that is proposed or committed which results in significant
  objections SHOULD use the FCP process to come to a resolution.

Every FCP MUST have a title that is a simple synopsis of the document. Titles
are not fixed; FCPs are numbered to allow the title to change. An FCP MUST
have the following attributes:

* **Title**: This is a simple synopsis of the document. As stated the title is
  not fixed. It may change as the FCP evolves.
* **Number**: This allows easy reference to the FCP and MUST be allocated as
  described below.
* **Metadata**: This tracks the author(s) and state of the FCP.

An FCP SHOULD address the following questions:

##### What is the problem to be solved?

The problem SHOULD be clearly described in sufficient detail such that someone
unfamiliar with the issue can gain enough context to understand the proposed
solution. The description of the problem SHOULD NOT be combined with the
description of the solution. The problem SHOULD be described first and discussed
followed by a description of the intended solution(s) and discussion of those.

Examples of problems are:

* The lack of a feature.
* A needed improvement to an existing feature.
* An ambiguity in the functionality of the system.
* An issue in a community process.

##### How will users interact with these new or changed features?

How will this change affect users? How will it affect existing scripts or other
integrations with the system? How will it impact programs that link against
base system libraries?

All users of the system MUST be considered. FreeBSD is used by many individuals
as well as directly and indirectly by many larger organizations and these MUST
be taken into account.

##### Will this change any public or private interfaces?

If a public interface such as a command line program or its arguments, a
library, or a syscall, is to be changed then list it here along with a brief,
one or two line description of the intended change.

Changes to private interfaces, those consumed by other internal parts of
FreeBSD MUST also be listed with a similarly brief description of the intended
change.

##### What is the upgrade impact?

What are the implications to current users of FreeBSD if they upgrade their
systems to a newer version that includes this change? Can the change be merged
to the stable branch? Any such changes MUST be added to the UPDATING file in
the main FreeBSD repository.

##### What is the security impact?

What potentially untrusted user input, whether data or code, will be handled
by the system as part of the change? Which components will interact with that
input? How will that input be validated and managed securely?  What new or
changed privileges will your feature require? How can the new code be
sandboxed?  How might an attacker use the proposed facilities to escalate their
privileges?

## FCP States

An FCP can be in one of the following states:

1. draft
1. feedback
1. vote
1. accepted
1. rejected
1. withdrawn

An FCP is first created in the `draft` state. Before publicizing
the FCP to the mailing lists, the author is encouraged to contact
fcp-editors@freebsd.org for editorial review. Once the draft is ready, it moves
to the `feedback` state and is published to the fcp@freebsd.org mailing list
and CCed to other appropriate forums, e.g. related technical lists.

The `feedback` state is where all discussion of the FCP takes place. Various
contributors will provide feedback on the changes proposed in the FCP and their
impact on the FreeBSD project. FCPs MAY have code attached to them, whether
example code or a reference to a set of patches that can be reviewed.

When the discussion of a change has come to a suitable and acceptable close it
SHOULD be updated to the `vote` state.

At this time the FreeBSD Core Team will vote on the subject of the FCP. The
result of vote moves the FCP into the `accepted` or `rejected` state.

Just because something is in the `accepted` state does not mean that it cannot
be updated and corrected. See the "Touching up" section for more information.

At any time the author(s) may decide to withdraw an FCP. If an FCP is not
viable or if an FCP must be ignored, it can be moved into the `withdrawn`
state.

## Mechanics of an FCP

To create a new FCP, an author MUST take the following steps.

### Write the first draft

A [template](./template.md) is provided in the
[FCP repository](https://github.com/freebsd/fcp). FCPs MUST have a text width
of 80 columns. Extra material such as code samples, graphs, etc. may
be provided and MUST be named starting with the FCP number like so:

  `fcp-0000-code-sample-1.c`

#### FCP Metadata

Every FCP document MUST start with a brief amount of metadata in the
[python-markdown2](https://github.com/trentm/python-markdown2/wiki/metadata)
metadata format as follows:

```
---
authors: Committer Name <committer@freebsd.org>,
    Collaborator Name <collaborator@example>
state: draft
changed: 2017-06-09T15:17+0000
---
```

Only the `authors`, and the `state` are tracked.  There MAY be any number of
`authors`. `Author` entries MUST contain both name and e-mail address for
proper attribution. A `changed` entry SHOULD be present and indicate the date
the FCP was last modified. If present this attribute MUST be in
[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations)
format and in the UTC time zone. A good way to generate an appropriate
timestamp is the the following date command:

  `$ date -u +%Y-%m-%dT%H:%M%z`

### Allocate a new FCP number

FCPs are numbered starting at 100. The first 100 FCPs, including this one, are
reserved for documenting the processes of the FreeBSD Project. When an FCP is
started, the next currently unallocated number MUST be used.

The author MUST go to the [FCP repository](https://github.com/freebsd/fcp) and
allocate a new number in the `index.md` file. This can be done via the editor
on the Github website itself or by creating a pull request manually. In the
event of a number conflict the author MUST attempt to allocate the next
available number.

### Publish the FCP

The FCP MUST be published under a filename of the form:

  `fcp-XXXX.md`

The XXXX MUST be replaced with the FCP number zero-padded to four digits. This
zero-padding is not required for use when discussing the FCP in other venues
but is purely to ensure sort order.

The FCP MUST then be added to the
[FCP repository](https://github.com/freebsd/fcp) either using the functionality
provided on the Github website or by creating a branch and raising a pull
request.

The FCP must be added to the repository in the `draft` state.

### Gather input on the FCP

Once the FCP has been published the author should seek input from the
fcp-editors@freebsd.org list and any other contributors or forums that seem
appropriate. If this feedback results in edits to the FCP these edits MUST
be reflected in the FCP repository as soon as practical. The `changed` metadata
attribute, if present, MUST be kept up to date.

Once an FCP has reached a state where the author feels it is complete it
can move on to the `feedback` state described below.

### Start the feedback process

To start the feedback process both the FCP document itself and the FCP index
document in the repository MUST be updated to indicate that the FCP is in the
`feedback` state. The FCP MUST then be announced on the fcp@freebsd.org list
and any other forums, e.g. topic-specific mailing lists, that are appropriate
to the content of the FCP.

The subject of the announcement MUST include the FCP number and title. The
body of the announcement MUST include a link to the FCP along with a summary
which can be any abstract or summary from the document itself.

As the feedback process continues any edits to the FCP MUST be reflected in
the repository copy as soon as is practical. The `changed` metadata attribute,
if present, MUST be kept up to date.

### Submit to core vote

Once the feedback process has concluded the author MUST request a vote on the
FCP by updating the FCP itself and the index to indicate that it is in the
`vote` state. The FCP author MUST also notify core@freebsd.org. The email
to core MUST have the FCP number and title in the subject line and a summary
of the FCP along with a link to the repository copy of the FCP in the body.
The author SHOULD provide pointers to relevant discussion on the FCP in the
various forums where it has been discussed.

Once received by core, core MAY request more information if it is needed to
inform their vote. Core MAY also notify the author that they need additional
time to deliberate. If core has not specifically requested additional time,
core MUST complete its deliberation and voting process within two weeks.

The core vote will result in the FCP being moved to either the `accepted` or
`rejected` states. This state MUST be reflected in the FCP document and in
the index. Core MAY add a section to the FCP detailing the reasoning behind
their decision.

### Withdrawal

At any point and for any reason prior to the resolution of the core vote the
author MAY withdraw their FCP. If an FCP is withdrawn it MUST be indicated in
the FCP itself and the FCP index by changing the FCP state to `withdrawn`.
The author MAY add a section to the FCP detailing the reasoning behind the
withdrawal.

### Changes after acceptance

FCPs may need to be revised after they have been moved into the `accepted`
state.  If the changes are minor then the author SHOULD update the FCP but if
the changes are major the FCP SHOULD be withdrawn and restarted.

Examples of minor changes include spelling or wording fixes that do not change
the meaning of the document.
